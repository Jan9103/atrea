<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8"> 
    <title>ATREA</title>
    <script src="libs/winbox.min.js"></script>
    <script src="index_mailbox.js" async></script>
    <link rel="stylesheet" href="style.css">
    <style>
      :root {
        --bg: #425;
        --bg-alt: #314;
        --fg: #aae;
        --link: #dbe;
        /* --border: 4px solid #849; */
      }

      html {
        height: 100vh;
        overflow: hidden;
      }

      #root_body {
        display: flex;
        justify-content: center;
        align-items: center;
        height: inherit;
      }

      #root_body_div>* {
        width: inherit;
        text-align: center;
      }

      h1 {
        margin-bottom: 0;
      }
    </style>
    <script defer type="module">
      import {g} from "./libs/xeact.js";

      const open_nav=()=>{
        let nav=WinBox.stack().find((i)=>i.title==="Navigation");
        if(nav===undefined){
          new WinBox("Navigation", {
            url: "./box_nav.html",
            background: "#600",
            width: "350px",
            class: ["atrea_nav_window"],
          });
        }else{
          if(nav.focused){
            nav.minimize(true);
          } else {
            nav.minimize(false);
            nav.focus();
          }
        }
      };

      g("open_nav_button").onclick=open_nav;
      document.addEventListener("keydown", (event)=>{
        console.log(event);
        if(event.key===" "){
          event.preventDefault();
          open_nav();
        }
      });
    </script>
    <!--HEAD-->
  </head>
  <body id="root_body">
    <div id="root_body_div">
      <h1>ATREA</h1>
      <p><!--VERSION--></p>
      <button id="open_nav_button">Open Navigation</button> (shortcut: space)
    </div>
  </body>
</html>
